<main class="py-16 px-4 md:px-8">
  <div class="container 2xl:max-w-[1280px] mx-auto">
    <section id="panel" class="w-full grid grid-cols-1 lg:grid-cols-9 gap-8 md:gap-4">
      <!-- Card -->
      <div
        class="col-span-6 lg:col-span-3 w-full max-w-100 mx-auto xl:max-w-full rounded-2xl shadow-lg overflow-hidden"
      >
        <div
          class="w-full px-5 py-4 flex justify-between items-center gap-4 text-white rounded-t-2xl bg-[linear-gradient(270deg,var(--b-highlight-bg).86%,var(--b-primary-color)_83.33%)]"
        >
          <p class="text-sm">Total de ventas de {{stateTitle()}}</p>
          <ng-icon name="bootstrapInfoCircle" class="text-xl text-white cursor-pointer" [pTooltip]="tooltipText()" tooltipPosition="right"></ng-icon>
        </div>
        <div class="p-4 min-h-32 flex-center flex-col bg-white">
          @if(!loading()) {
            <p
              class="montserrat-bold text-3xl mb-5 bg-[linear-gradient(270deg,var(--b-highlight-bg)_0%,var(--b-primary-color)_130%)] bg-clip-text text-transparent"
            >
            {{ currency() | cop }}
          </p>
          } @else {
            <div class="w-2/3 mb-5">
              <p-skeleton />
            </div>
          }

          <p class="text-base montserrat-semiBold">{{dateCard()}}</p>
        </div>
      </div>

      <!-- Filters -->
      <div class="flex flex-col items-end col-span-6 w-full mt-4 lg:mt-0 gap-4">
        <p-selectbutton
          [options]="stateOptions()"
          [(ngModel)]="state"
          [multiple]="false"
          [unselectable]="true"
          optionLabel="label"
          optionValue="value"
          aria-labelledby="basic"
          fluid
          styleClass="my-custom-selectbutton"
        />

        <div class="relative inline-block toggle-filter-containt">
          <b-button-extension (filterChange)="onFilterChange($event)" [title]="titleFilter" [checkFilter]="paymentMethod"></b-button-extension>
        </div>
      </div>
    </section>

    <section id="table" class="w-full mt-16 lg:mt-8">
      <b-table-list (totalChange)="updateTotal($event)" [loading]="loading()" [cols]="14" [labels]="labelTxs" [body]="txs()" [SearchExternal]="filterTableTxs()" [isSearch]="true" [isLegend]="true" [legend]="`Tus ventas de ${stateTitle()}`"></b-table-list>
    </section>
  </div>
</main>

